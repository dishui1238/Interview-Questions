## TCP 协议

- tcp 传输控制协议 Transimision Control Protocal 可靠、面向连接的协议,传输效率低 (在不可靠的 IP 层上建立可靠的传输层)。
- TCP 提供全双工服务，即数据可在同一时间双向传播。
- 数据是无序地在网络间传递，接收方需要有一种算法在接受到数据后恢复原有的顺序 (一个 tcp 段就有 20 个字节的头，如果每次传递一个数据，tcp 传输的过程中会粘包)

<img src="./imgs/TCP 报文.jpg" />

- 源端口号、目的端口号，指代的是发送方随机端口，目标端对应的端口
- 32 位序列号是用于对数据包进行标记，方便重组
- 4 位首部长度：单位是字节，4 位最大能表示 15，所以头部长度最大为 60 (一般为 20 个字节)
- URG :紧急新号、 ACK :确认信号、 PSH :应该从 TCP 缓冲区读走数据、 RST ：断开重新
- 连接、 SYN :建立连接、 FIN :表示要断开
- 校验和：用来做差错控制，看传输的报文段是否损坏
- 紧急指针：用来发送紧急数据使用

> TCP 是提供可靠的网络传输，需要建立连接，流速控制。UDP 协议只发送包，无连接协议，速度快。
