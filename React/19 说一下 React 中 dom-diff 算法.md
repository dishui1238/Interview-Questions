## 说一下 React 中的 dom-diff 算法

- 只对`同级节点`进行对比，如果 DOM 节点跨层级移动，则 React 不会复用
- 不同类型的元素不会进行复用，会销毁老元素，创建新元素
- 可以通过 key 标识移动的元素

比较两个虚拟 dom 时会有三种操作：删除、更新、替换

- 删除：当新的 dom 树上该节点不存在时
- 替换：新节点的类型和老节点不相同或 key 不同时
- 更新：有相同类型的 key 但是新节点和老节点不同时（如： 属性更新）

<img src="./imgs/react-diff.jpg" />
